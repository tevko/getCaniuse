!function(){"use strict";var e=function(e,s){for(var t in s)e=e.replace(new RegExp("{"+t+"}","g"),s[t]);return e},s="http://caniuse.com/",t=s+"#search=",a="caniuse-",n=a+"card",i="."+n,o=a+"disabled",c=a+"close";window.CIU={settings:{elems:"get-caniuse",cIco:s+"img/favicon-128.png",CIUData:"",dataURL:"https://raw.githubusercontent.com/Fyrd/caniuse/master/data.json",objFormatted:!1},init:function(){"classList"in document.createElement("_")&&this.createLinks()},createLinks:function(){var e=this.settings,s=document.querySelectorAll(e.elems);Array.apply(null,s).forEach(function(s){s.addEventListener("click",this.getCIUData.bind(s,s.innerHTML,e));var t=new Image;t.src=e.cIco,t.style.width="15px",t.style.display="inline-block",s.appendChild(t)}.bind(this))},getCIUData:function(e,s,t){return this.classList.contains(o)?t:void(""===s.CIUData?CIU.retrieveJSON(e,this):CIU.getClosestMatch(e,this))},retrieveJSON:function(e,s){var t=this.settings,a=new XMLHttpRequest;a.open("GET",t.dataURL,!0),a.onload=function(){a.status>=200&&a.status<400?(t.CIUData=JSON.parse(a.responseText).data,this.getClosestMatch(e,s)):this.fallBack(e)}.bind(this),a.onerror=function(){this.fallBack(e)}.bind(this),a.send()},fallBack:function(e){window.open(t+e)},getClosestMatch:function(e,s){if(null!==s.querySelector(i))s.querySelector(i).style.display="block",s.classList.add(o);else{var t,a=this.settings,n=e.replace(/-/g,"").toUpperCase(),c=new RegExp("("+n+")"),r=Object.keys(a.CIUData);a.objFormatted||(r.forEach(function(e){var s=e.replace(/-/g,"").toUpperCase();a.CIUData[s]=a.CIUData[e],delete a.CIUData[e]}),a.objFormatted=!0,r=Object.keys(a.CIUData)),r.forEach(function(e){e.match(c)&&(t=e)}),void 0===t&&this.fallBack(e),this.makeCard(a.CIUData[t],s,e)}},makeCard:function(s,a,r){var l=function(){var t=s.stats,a=[t.ie,t.firefox,t.chrome,t.safari,t.opera,t.edge],n="",i="https://s3-us-west-2.amazonaws.com/s.cdpn.io/20890/";return t.ie.name=i+"browser-logo-ie.png",t.firefox.name=i+"firefox-logo-170-150x150.png",t.chrome.name=i+"browser-logo-chrome.png",t.safari.name=i+"safari-logo-150x150[1].png",t.opera.name=i+"opera-mini-logo-large-for-android.png",t.edge.name=i+"Microsoft-Edge-Browser-logo-150x150.png",a.forEach(function(s){Object.keys(s).forEach(function(t){var a=e('<img class="CIU_bs_supported" src="{name}">',{name:s.name}),i=n.indexOf(a)>=0,o="y"===s[t]||"p"===s[t]||"a x #2"===s[t]||"a #1"===s[t];!i&&o&&(n+=a)})}),n},p='<div class="{classCard}"><p class="title">{title}</p><p class="description">{description}</p><a class="speclink" href="{speclink}">W3C Spec</a> <div class="caniuse-supports">{supports}</div><a class="speclink" href="{searchURL}{query}">See more on CanIUse.com...</a><span class="{classClose}">Close</span></div>',d={classCard:n,classClose:c,title:s.title,description:s.description,speclink:s.spec,supports:l(),searchURL:t,query:r},u=e(p,d);a.innerHTML+=u,a.classList.add(o),a.addEventListener("click",function(e){e.target.classList.contains(c)&&(a.classList.remove(o),a.querySelector(i).style.display="none")})}}}();